@model ProjectVM

@{
	var Page = ViewBag.Page;
}

<form asp-action="ProjectEdit" asp-controller="Project">

	<div class="d-flex flex-column align-items-center">

		<partial name="_ProjectHeadPartial" />

		<partial name="_ProjectReportPartial" />

		@if (Page == "Edit")
		{
			<div class="d-flex justify-content-around align-items-center w-100">

				<a class="main_link" style="max-width: 360px; width: 100%;" asp-action="ProjectDetails" asp-controller="Project" asp-route-project_id="@Model.Project.Project_ID" asp-route-page="Index"><span>Cancel</span> </a>

				<button type="submit" class="main_btn" style="max-width: 360px; width: 100%;"><span>Save</span> </button>

			</div>

		}



		<div class="d-flex flex-wrap flex-grow-1 justify-content-center">

			<div class="card d-flex flex-column justify-content-center align-items-center" style="height: 500px; width: 360px; padding: 10px; margin: 20px">

				<a class="main_link" asp-action="CardCreate" asp-controller="ProjectCard" asp-route-project_id="@Model.Project.Project_ID" style="font-size: 70px"><i class="bi bi-plus-lg"></i></a>

			</div>

			@if (Model.Project.Project_Cards != null)
			{
				@foreach (var card in Model.Project.Project_Cards)
				{
					<partial name="../ProjectCard/_ProjectCardPartial" model="card" />
				}
			}

		</div>

	</div>

</form>

<div class="modal fade " id="AddProjectCoop" tabindex="-1" aria-hidden="true">

	<div class="modal-dialog modal-dialog-centered">

		<div class="modal-content">

			<partial name="_ProjectCoopCreatePartial" model="new Project_Fund() {Project_ID = Model.Project.Project_ID}" />

		</div>

	</div>

</div>

<div class="modal fade " id="AddReportImage" tabindex="-1" aria-hidden="true">

	<div class="modal-dialog modal-dialog-centered">

		<div class="modal-content">

			<partial name="_ProjectReportImageCreatePartial" model="new Project_Report_Image() {Project_Report_ID = Model.Project.Project_Report.Project_Report_ID, Project_Report_Image_URL = string.Empty}" />

		</div>

	</div>

</div>
